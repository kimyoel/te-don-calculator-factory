<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="naver-site-verification" content="59fd3a0780caa70b37b5ae1976725f79a5e6b0c4" />
    <title>ë–¼ì¸ ëˆ ê³„ì‚°ê¸° ğŸ’¸</title>
    
    <!-- ========== CDN Libraries ========== -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- html2canvas ë³„ë„ ë¡œë“œ (html2pdf ë²ˆë“¤ ì™¸ ì§ì ‘ í˜¸ì¶œìš©) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <!-- jsPDF UMD (ì§ì ‘ addImage ì‚¬ìš©) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <style>
        /* ========== í°íŠ¸ ì„¤ì • ========== */
        @import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css');
        
        * {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
        }
        
        /* ========== ë‹¨ì–´ ì¤‘ê°„ ì¤„ë°”ê¿ˆ ë°©ì§€ ========== */
        .keep-all {
            word-break: keep-all;
        }
        
        /* ========== í˜ì´ì§€ ì „í™˜ ì• ë‹ˆë©”ì´ì…˜ ========== */
        .page {
            transition: opacity 0.4s ease, transform 0.4s ease;
        }
        
        .page.hidden {
            display: none;
        }
        
        .page.fade-out {
            opacity: 0;
            transform: translateY(20px);
        }
        
        .page.fade-in {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* ========== íƒ­ ì „í™˜ ì• ë‹ˆë©”ì´ì…˜ ========== */
        .tab-content {
            display: none;
            animation: fadeIn 0.3s ease-in-out;
        }
        
        .tab-content.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* ========== ê²°ê³¼ ê¸ˆì•¡ í„ìŠ¤ ì• ë‹ˆë©”ì´ì…˜ ========== */
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        
        .result-amount {
            animation: pulse 2s infinite;
        }
        
        /* ========== ë‚´ìš©ì¦ëª… A4 ìŠ¤íƒ€ì¼ + ì¢…ì´ ê·¸ë¦¼ì íš¨ê³¼ ========== */
        .certificate-preview {
            aspect-ratio: 210 / 297;
            max-height: 600px;
            overflow-y: auto;
            box-shadow: 
                0 1px 3px rgba(0,0,0,0.12),
                0 4px 6px rgba(0,0,0,0.08),
                0 10px 20px rgba(0,0,0,0.06),
                0 0 40px rgba(0,0,0,0.03);
            transform: perspective(1000px) rotateX(1deg);
        }
        
        /* ========== ì´ììœ¨ ì¹´ë“œ ìŠ¤íƒ€ì¼ ========== */
        .rate-card {
            transition: all 0.2s ease;
        }
        
        .rate-card:has(input:checked) {
            border-color: #2563eb;
            background-color: #eff6ff;
        }
        
        /* ========== ì„¸ê·¸ë¨¼íŠ¸ ì»¨íŠ¸ë¡¤ ìŠ¤íƒ€ì¼ ========== */
        .segment-control {
            display: flex;
            background: #f3f4f6;
            border-radius: 12px;
            padding: 4px;
        }
        
        .segment-btn {
            flex: 1;
            padding: 12px 16px;
            border-radius: 10px;
            font-weight: 600;
            font-size: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s ease;
            border: none;
            background: transparent;
            color: #6b7280;
        }
        
        .segment-btn.active {
            background: white;
            color: #1f2937;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1), 0 2px 6px rgba(0,0,0,0.05);
        }
        
        .segment-btn:hover:not(.active) {
            color: #374151;
        }
        
        /* ========== ë³µì‚¬ ë²„íŠ¼ íš¨ê³¼ ========== */
        .copy-success {
            background-color: #22c55e !important;
        }
        
        /* ========== ëª¨ë‹¬ ìŠ¤íƒ€ì¼ ========== */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(4px);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            animation: fadeIn 0.2s ease;
        }
        
        .modal-overlay.active {
            display: flex;
        }
        
        .modal-content {
            background: white;
            border-radius: 20px;
            padding: 32px;
            max-width: 400px;
            width: 90%;
            text-align: center;
            animation: modalSlideUp 0.3s ease;
        }
        
        @keyframes modalSlideUp {
            from {
                opacity: 0;
                transform: translateY(20px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
        
        /* ========== ì¹´ìš´íŒ… ì• ë‹ˆë©”ì´ì…˜ìš© ========== */
        .counting {
            transition: all 0.1s ease-out;
        }
        
        /* ========== íƒ€ì´í‹€ ê·¸ë¦¼ì íš¨ê³¼ ========== */
        .title-shadow {
            text-shadow: 
                0 2px 4px rgba(0, 0, 0, 0.1),
                0 4px 8px rgba(0, 0, 0, 0.08);
        }
        
        /* ========== í›„ì› ë²„íŠ¼ ì• ë‹ˆë©”ì´ì…˜ ========== */
        @keyframes gentleBounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-6px); }
        }
        
        .donation-btn {
            animation: gentleBounce 3s ease-in-out infinite;
        }
        
        .donation-btn:hover {
            animation: none;
            transform: scale(1.05);
        }
        
        /* ========== ê²°ê³¼ ê¸ˆì•¡ ê°€ë…ì„± ========== */
        .result-money {
            word-break: keep-all;
            line-height: 1.1;
            letter-spacing: -0.02em;
        }
        
        /* ========== ë©”ì¸ CTA ë²„íŠ¼ ì• ë‹ˆë©”ì´ì…˜ ========== */
        .cta-btn {
            transition: all 0.3s ease;
        }
        
        .cta-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(37, 99, 235, 0.3);
        }
        
        .cta-btn:active {
            transform: translateY(0);
        }
        
        /* ========== ì„¹ì…˜ êµ¬ë¶„ì„  ìŠ¤íƒ€ì¼ ========== */
        .section-divider {
            border-top: 1px dashed #e5e7eb;
            margin: 24px 0;
        }

        /* ì•ˆë‚´ ë°•ìŠ¤ */
        .notice-box {
            margin-top: 12px;
            margin-bottom: 12px;
            padding: 14px 16px;
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            background: #f8fafc;
            color: #374151;
            font-size: 14px;
            line-height: 1.5;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-slate-100 via-gray-50 to-slate-200 min-h-screen">
    
    <!-- ==================== [Page 1] ì…ë ¥ í™”ë©´ ==================== -->
    <div id="inputPage" class="page fade-in">
        <div class="max-w-lg mx-auto px-4 pb-12">
            
            <!-- í—¤ë” -->
            <header class="text-center py-10">
                <h1 class="text-4xl md:text-5xl font-black text-gray-800 mb-3 title-shadow">
                    ë–¼ì¸ ëˆ ê³„ì‚°ê¸° ğŸ’¸
                </h1>
                <p class="text-sm text-gray-500 bg-white/60 inline-block px-4 py-1 rounded-full">
                    ğŸ”’ ì„œë²„ ì €ì¥ ì—†ì´, ì˜¤ì§ ë¸Œë¼ìš°ì €ì—ì„œë§Œ ê³„ì‚°ë©ë‹ˆë‹¤
                </p>
            </header>

            <!-- ì…ë ¥ í¼ -->
            <section class="bg-white p-6 rounded-2xl shadow-lg border border-gray-100">
                
                <!-- ========== [ì„¹ì…˜1] ì±„ê¶Œ ì •ë³´ ========== -->
                <div class="mb-2">
                    <p class="text-xs font-bold text-gray-400 uppercase tracking-wider mb-4">
                        <i class="fas fa-file-invoice-dollar mr-1"></i> ì±„ê¶Œ ì •ë³´
                    </p>
                </div>
                
                <!-- ë¯¸ìˆ˜ê¸ˆ ì›ê¸ˆ -->
                <div class="mb-6">
                    <label class="block text-sm font-semibold text-gray-700 mb-2">
                        <i class="fas fa-coins text-amber-500 mr-1"></i>
                        ëª» ë°›ì€ ëˆ (ì›ê¸ˆ)
                    </label>
                    <div class="relative">
                        <input 
                            type="text" 
                            inputmode="numeric"
                            id="principal"
                            class="w-full h-14 px-4 pr-12 text-xl font-bold border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"
                            placeholder="ì˜ˆ: 1,000,000"
                        >
                        <span class="absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 font-medium">ì›</span>
                    </div>
                </div>
                
                <!-- ì—°ì²´ ì‹œì‘ì¼ -->
                <div class="mb-6">
                    <label class="block text-sm font-semibold text-gray-700 mb-2">
                        <i class="fas fa-calendar-day text-rose-500 mr-1"></i>
                        ëˆ ì£¼ê¸°ë¡œ í•œ ë‚ ì§œ
                    </label>
                    <input 
                        type="date" 
                        id="startDate"
                        class="w-full h-14 px-4 text-lg border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"
                    >
                </div>
                
                <!-- ì´ììœ¨ ì„ íƒ -->
                <div class="mb-6">
                    <label class="block text-sm font-semibold text-gray-700 mb-3">
                        <i class="fas fa-percent text-emerald-500 mr-1"></i>
                        ì´ììœ¨ ì„ íƒ
                    </label>
                    <div class="flex flex-col gap-3">
                        <label class="rate-card flex items-center justify-between p-4 border-2 border-gray-200 rounded-xl cursor-pointer hover:border-blue-300 transition-all">
                            <div class="flex items-center gap-3">
                                <input type="radio" name="interestRate" value="6" checked class="w-5 h-5 text-blue-600 flex-shrink-0">
                                <div class="flex items-center gap-2">
                                    <span class="font-bold text-gray-800">ìƒë²• 6%</span>
                                    <span class="text-xs bg-gray-200 text-gray-600 px-2 py-0.5 rounded-full">ê¸°ë³¸</span>
                                </div>
                            </div>
                            <span class="text-xs text-gray-400 text-right keep-all hidden sm:block">ê³„ì•½ì„œê°€ ì—†ê±°ë‚˜ ìƒê±°ë˜ ë¯¸ìˆ˜ê¸ˆì¼ ë•Œ</span>
                        </label>
                        
                        <label class="rate-card flex items-center justify-between p-4 border-2 border-gray-200 rounded-xl cursor-pointer hover:border-blue-300 transition-all">
                            <div class="flex items-center gap-3">
                                <input type="radio" name="interestRate" value="12" class="w-5 h-5 text-blue-600 flex-shrink-0">
                                <div class="flex items-center gap-2">
                                    <span class="font-bold text-gray-800">ì†Œì´‰ë²• 12%</span>
                                    <span class="text-xs bg-red-100 text-red-600 px-2 py-0.5 rounded-full">ì†Œì†¡ ì‹œ</span>
                                </div>
                            </div>
                            <span class="text-xs text-gray-400 text-right keep-all hidden sm:block">ë²•ì›ì— ì†Œì†¡ ì œê¸° ì´í›„ë¶€í„°</span>
                        </label>
                        
                        <label class="rate-card flex items-center justify-between p-4 border-2 border-gray-200 rounded-xl cursor-pointer hover:border-blue-300 transition-all">
                            <div class="flex items-center gap-3">
                                <input type="radio" name="interestRate" value="custom" id="customRateRadio" class="w-5 h-5 text-blue-600 flex-shrink-0">
                                <span class="font-bold text-gray-800">ì§ì ‘ì…ë ¥</span>
                            </div>
                            <span class="text-xs text-gray-400 text-right keep-all hidden sm:block">ìµœëŒ€ 20%ê¹Œì§€ ì…ë ¥ ê°€ëŠ¥</span>
                        </label>
                    </div>
                    
                    <div id="customRateWrapper" class="mt-3 hidden">
                        <div class="relative">
                            <input 
                                type="number" 
                                id="customRate"
                                min="0"
                                max="20"
                                step="0.1"
                                class="w-full h-12 px-4 pr-12 text-lg border-2 border-blue-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"
                                placeholder="ì´ììœ¨ ì…ë ¥ (ìµœëŒ€ 20%)"
                            >
                            <span class="absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 font-medium">%</span>
                        </div>
                        <p id="rateWarning" class="text-xs text-red-500 mt-1 hidden">
                            <i class="fas fa-exclamation-triangle mr-1"></i>
                            ì´ìì œí•œë²•ìƒ ìµœê³ ì´ììœ¨ 20%ë¥¼ ì´ˆê³¼í•  ìˆ˜ ì—†ì–´ ìë™ ì¡°ì •ë˜ì—ˆìŠµë‹ˆë‹¤.
                        </p>
                    </div>
                </div>
                
                <!-- êµ¬ë¶„ì„  -->
                <div class="section-divider"></div>
                
                <!-- ========== [ì„¹ì…˜2] ì±„ë¬´ì(ìƒëŒ€ë°©) ì •ë³´ ========== -->
                <div class="mb-4">
                    <p class="text-xs font-bold text-gray-400 uppercase tracking-wider mb-4">
                        <i class="fas fa-user-slash mr-1"></i> ì±„ë¬´ì (ëˆì„ ê°šì•„ì•¼ í•  ì‚¬ëŒ)
                    </p>
                </div>
                
                <!-- ìƒëŒ€ë°© ìœ í˜• ì„ íƒ -->
                <div class="mb-6">
                    <label class="block text-sm font-semibold text-gray-700 mb-3">
                        <i class="fas fa-user-tag text-purple-500 mr-1"></i>
                        ìƒëŒ€ë°© ìœ í˜•
                    </label>
                    <div class="segment-control">
                        <button type="button" class="segment-btn active" data-type="company">
                            ğŸ¢ ê¸°ì—…
                        </button>
                        <button type="button" class="segment-btn" data-type="individual">
                            ğŸ‘¤ ê°œì¸
                        </button>
                    </div>
                    <input type="hidden" id="debtorType" value="company">
                </div>
                
                <!-- ì±„ë¬´ì ì´ë¦„ -->
                <div class="mb-6">
                    <label class="block text-sm font-semibold text-gray-700 mb-2">
                        <i class="fas fa-user text-blue-500 mr-1"></i>
                        ì±„ë¬´ì ì´ë¦„
                    </label>
                    <input 
                        type="text" 
                        id="debtorName"
                        class="w-full h-14 px-4 text-lg border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"
                        placeholder="í™ê¸¸ë™ ë˜ëŠ” (ì£¼)ì•…ë•ê¸°ì—…"
                    >
                </div>
                
                <!-- êµ¬ë¶„ì„  -->
                <div class="section-divider"></div>
                
                <!-- ========== [ì„¹ì…˜3] ë°œì‹ ì¸(ë‚˜) ì •ë³´ - ì‹ ê·œ ì¶”ê°€ ========== -->
                <div class="mb-4">
                    <p class="text-xs font-bold text-gray-400 uppercase tracking-wider mb-4">
                        <i class="fas fa-user-check mr-1"></i> ë°œì‹ ì¸ (ë‚˜ì˜ ì •ë³´)
                    </p>
                </div>
                
                <!-- ë°œì‹ ì¸ ì´ë¦„/ìƒí˜¸ -->
                <div class="mb-4">
                    <label class="block text-sm font-semibold text-gray-700 mb-2">
                        <i class="fas fa-id-card text-indigo-500 mr-1"></i>
                        ë°œì‹ ì¸ ì´ë¦„ ë˜ëŠ” ìƒí˜¸
                    </label>
                    <input 
                        type="text" 
                        id="senderName"
                        class="w-full h-12 px-4 text-base border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"
                        placeholder="ì˜ˆ: ê¹€ì² ìˆ˜ ë˜ëŠ” (ì£¼)ë‚´íšŒì‚¬"
                    >
                </div>
                
                <!-- ë°œì‹ ì¸ ì£¼ì†Œ -->
                <div class="mb-4">
                    <label class="block text-sm font-semibold text-gray-700 mb-2">
                        <i class="fas fa-map-marker-alt text-red-500 mr-1"></i>
                        ë°œì‹ ì¸ ì£¼ì†Œ
                    </label>
                    <input 
                        type="text" 
                        id="senderAddress"
                        class="w-full h-12 px-4 text-base border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"
                        placeholder="ì˜ˆ: ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 123, 456í˜¸"
                    >
                </div>
                
                <!-- ë°œì‹ ì¸ ì—°ë½ì²˜ (ì„ íƒ) -->
                <div class="mb-6">
                    <label class="block text-sm font-semibold text-gray-700 mb-2">
                        <i class="fas fa-phone text-green-500 mr-1"></i>
                        ë°œì‹ ì¸ ì—°ë½ì²˜ <span class="text-xs font-normal text-gray-400">(ì„ íƒ)</span>
                    </label>
                    <input 
                        type="tel" 
                        id="senderPhone"
                        class="w-full h-12 px-4 text-base border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"
                        placeholder="ì˜ˆ: 010-1234-5678"
                    >
                </div>
                
                <!-- êµ¬ë¶„ì„  -->
                <div class="section-divider"></div>
                
                <!-- ========== [ì„¹ì…˜4] ë‚´ ì…ê¸ˆ ê³„ì¢Œ ì •ë³´ (ì•„ì½”ë””ì–¸) ========== -->
                <div class="mb-4">
                    <button 
                        id="accountAccordionToggle"
                        type="button"
                        class="w-full flex items-center justify-between px-4 py-3 rounded-xl border-2 border-gray-200 bg-white hover:border-blue-200 transition-all"
                        aria-expanded="false"
                    >
                        <div class="flex items-center gap-2">
                            <i class="fas fa-piggy-bank text-amber-500"></i>
                            <p class="text-sm font-semibold text-gray-800">
                                ì…ê¸ˆ ë°›ì„ ê³„ì¢Œ <span class="text-gray-300">(ì„ íƒ)</span>
                            </p>
                        </div>
                        <div class="flex items-center gap-2 text-blue-600 text-sm font-semibold">
                            <span class="hidden sm:inline">ìì„¸íˆ ì…ë ¥í•˜ê¸°</span>
                            <i id="accountChevron" class="fas fa-chevron-down transition-transform duration-200"></i>
                        </div>
                    </button>
                </div>
                
                <div 
                    id="accountFieldsWrapper" 
                    class="overflow-hidden transition-all duration-300 ease-in-out max-h-0 opacity-0"
                    style="max-height: 0;"
                    aria-hidden="true"
                >
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 pt-3">
                        <div>
                            <label class="block text-xs text-gray-500 mb-1">ì€í–‰ëª…</label>
                            <select 
                                id="bankNameSelect"
                                class="w-full h-12 px-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all text-sm"
                            >
                                <option value="">ì„ íƒ</option>
                                <option value="ì¹´ì¹´ì˜¤ë±…í¬">ì¹´ì¹´ì˜¤ë±…í¬</option>
                                <option value="í† ìŠ¤ë±…í¬">í† ìŠ¤ë±…í¬</option>
                                <option value="êµ­ë¯¼ì€í–‰">êµ­ë¯¼ì€í–‰</option>
                                <option value="ì‹ í•œì€í–‰">ì‹ í•œì€í–‰</option>
                                <option value="í•˜ë‚˜ì€í–‰">í•˜ë‚˜ì€í–‰</option>
                                <option value="ìš°ë¦¬ì€í–‰">ìš°ë¦¬ì€í–‰</option>
                                <option value="ë†í˜‘ì€í–‰">ë†í˜‘ì€í–‰</option>
                                <option value="ê¸°ì—…ì€í–‰">ê¸°ì—…ì€í–‰</option>
                                <option value="SCì œì¼ì€í–‰">SCì œì¼ì€í–‰</option>
                                <option value="ì”¨í‹°ì€í–‰">ì”¨í‹°ì€í–‰</option>
                                <option value="ì¼€ì´ë±…í¬">ì¼€ì´ë±…í¬</option>
                                <option value="ìƒˆë§ˆì„ê¸ˆê³ ">ìƒˆë§ˆì„ê¸ˆê³ </option>
                                <option value="ì‹ í˜‘">ì‹ í˜‘</option>
                                <option value="ìš°ì²´êµ­">ìš°ì²´êµ­</option>
                                <option value="__custom__">ê¸°íƒ€ (ì§ì ‘ì…ë ¥)</option>
                            </select>
                            <input 
                                type="text" 
                                id="bankNameCustom"
                                class="w-full h-12 px-3 border-2 border-blue-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all text-sm mt-2 hidden"
                                placeholder="ì€í–‰/ê¸ˆìœµê¸°ê´€ëª… ì…ë ¥"
                            >
                        </div>
                        
                        <div>
                            <label class="block text-xs text-gray-500 mb-1">ê³„ì¢Œë²ˆí˜¸</label>
                            <input 
                                type="text" 
                                inputmode="numeric"
                                id="accountNumber"
                                class="w-full h-12 px-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all text-sm"
                                placeholder="ìˆ«ìë§Œ ì…ë ¥"
                            >
                        </div>
                        
                        <div>
                            <label class="block text-xs text-gray-500 mb-1">ì˜ˆê¸ˆì£¼</label>
                            <input 
                                type="text" 
                                id="accountHolder"
                                class="w-full h-12 px-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all text-sm"
                                placeholder="ì˜ˆê¸ˆì£¼ëª…"
                            >
                        </div>
                    </div>
                </div>
            </section>
            
            <div class="notice-box">
              ì´ ê³„ì‚°ê¸°ëŠ” ì…ë ¥í•˜ì‹  ê°’ì„ ê¸°ì¤€ìœ¼ë¡œ í•œ <strong>ì°¸ê³ ìš© ì‹œë®¬ë ˆì´ì…˜</strong>ì…ë‹ˆë‹¤.<br />
              ì‹¤ì œ ì†Œì†¡Â·ì§‘í–‰ ê²°ê³¼ì™€ ë‹¤ë¥¼ ìˆ˜ ìˆìœ¼ë©°, ìµœì¢… íŒë‹¨ì€ ë²•ë¥  ì „ë¬¸ê°€ì™€ ìƒì˜í•´ ì£¼ì„¸ìš”.
            </div>

            <!-- ê³„ì‚°í•˜ê¸° ë²„íŠ¼ -->
            <button 
                id="calculateBtn"
                class="cta-btn w-full mt-6 h-16 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-bold text-lg rounded-2xl shadow-lg flex items-center justify-center gap-3"
            >
                <i class="fas fa-calculator"></i>
                ê³„ì‚°í•˜ê¸° & ë¬¸êµ¬ ìƒì„±
            </button>
            
            <!-- ìœ íš¨ì„± ê²€ì‚¬ ì˜¤ë¥˜ ë©”ì‹œì§€ -->
            <p id="validationError" class="text-center text-red-500 text-sm mt-3 hidden">
                <i class="fas fa-exclamation-circle mr-1"></i>
                <span id="errorMessage"></span>
            </p>
            
            <!-- ìƒí™©ë³„ ê°€ì´ë“œ ë¯¸ë‹ˆ ë°°ë„ˆ -->
            <section class="mt-6 bg-white p-4 sm:p-5 rounded-2xl shadow-lg border border-gray-100">
                <div class="flex items-center gap-2 mb-2">
                    <span class="text-xs font-semibold text-blue-600 bg-blue-50 px-2 py-1 rounded-full">NEW</span>
                    <h2 class="text-base sm:text-lg font-bold text-gray-800">ìƒí™©ë³„ ë¯¸ìˆ˜ê¸ˆ ê°€ì´ë“œ 10ì„ </h2>
                </div>
                <p class="text-sm text-gray-600 keep-all mb-4">
                    í”„ë¦¬ëœì„œ, ì¹œêµ¬Â·ê°€ì¡±, ì¤‘ê³ ê±°ë˜ ë“± ìƒí™©ë³„ë¡œ ë¯¸ìˆ˜ê¸ˆ ëŒ€ì‘ íë¦„ì„ í•œëˆˆì— ì •ë¦¬í–ˆì–´ìš”.
                </p>
                <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3">
                    <span class="text-sm text-gray-500">ê°€ì´ë“œë¥¼ ì½ê³  ë°”ë¡œ ê³„ì‚°í•´ ë³´ì„¸ìš”.</span>
                    <a class="cta-btn h-12 px-5 text-sm font-bold flex items-center justify-center gap-2 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700" href="./public/index.html">
                        ê°€ì´ë“œ ë³´ëŸ¬ê°€ê¸°
                    </a>
                </div>
            </section>
            
            <!-- ========== ì…€í”„ ë…ì´‰ í‚¤íŠ¸ í‹°ì € ë°°ë„ˆ ========== -->
            <section class="w-full max-w-xl mx-auto mt-6 mb-2 rounded-2xl bg-slate-50 px-4 py-3 sm:px-5 sm:py-4 text-xs sm:text-sm text-gray-700 leading-relaxed">
                <p class="font-semibold mb-2">
                    ğŸ§° ì…€í”„ ë…ì´‰ ì‹¤ì „ í‚¤íŠ¸ <span class="text-slate-500 font-normal">(ì¤€ë¹„ ì¤‘)</span>
                </p>
                <p class="keep-all mb-1">
                    í”„ë¦¬ëœì„œÂ·ì§€ì¸Â·ê±°ë˜ì²˜ ë¯¸ìˆ˜ê¸ˆ ì •ë¦¬ë¥¼ ë•ëŠ”<br>
                    ë‚´ìš©ì¦ëª… ì˜ˆì‹œë¬¸, ì²´í¬ë¦¬ìŠ¤íŠ¸, ì—‘ì…€/ë…¸ì…˜ ì–‘ì‹ì„ ë¬¶ì€ í‚¤íŠ¸ë¥¼ ì¤€ë¹„í•˜ê³  ìˆìŠµë‹ˆë‹¤.
                </p>
                <p class="keep-all text-gray-500">
                    ê³„ì‚°ì„ ì™„ë£Œí•˜ì‹  ë’¤ ê²°ê³¼ í™”ë©´ì—ì„œ ì•Œë¦¼ ì‹ ì²­ì„ í•˜ì‹¤ ìˆ˜ ìˆì–´ìš”.
                </p>
            </section>
            
            <!-- ê°„ë‹¨í•œ í‘¸í„° -->
            <p class="text-center text-xs text-gray-400 mt-6">
                <i class="fas fa-shield-alt mr-1"></i>
                ëª¨ë“  ë°ì´í„°ëŠ” ìƒˆë¡œê³ ì¹¨ ì‹œ ì¦‰ì‹œ ì‚­ì œë©ë‹ˆë‹¤.
            </p>
        </div>
    </div>
    
    <!-- ==================== [Page 2] ê²°ê³¼ í™”ë©´ ==================== -->
    <div id="resultPage" class="page hidden fade-out">
        <div class="max-w-lg mx-auto px-4 pb-12">
            
            <!-- ê²°ê³¼ í™”ë©´ í—¤ë” -->
            <header class="flex items-center justify-between py-6">
                <button 
                    id="backBtn"
                    class="flex items-center gap-2 text-gray-600 hover:text-blue-600 transition-colors font-medium"
                >
                    <i class="fas fa-chevron-left"></i>
                    <span>ë’¤ë¡œê°€ê¸° (ìˆ˜ì •)</span>
                </button>
                <h2 class="text-lg font-bold text-gray-800">ê³„ì‚° ê²°ê³¼</h2>
                <div class="w-24"></div> <!-- ê· í˜•ì„ ìœ„í•œ ë¹ˆ ê³µê°„ -->
            </header>
            
            <!-- ê²°ê³¼ ìš”ì•½ ì¹´ë“œ -->
            <section class="bg-gradient-to-br from-red-50 to-orange-50 border-2 border-red-200 rounded-2xl p-6 text-center shadow-lg">
                <p class="text-gray-700 text-lg mb-4">
                    ì´ <span id="daysElapsed" class="font-bold text-red-600">0</span>ì¼ ì§€ë‚¬ê³ ,
                    ì´ìë§Œ <span id="interestAmount" class="font-bold text-red-600">0</span>ì› ë¶™ì—ˆìŠµë‹ˆë‹¤.
                </p>
                
                <p class="text-sm text-gray-500 mb-2">ì§€ê¸ˆ ë‹¹ì¥ ë°›ì•„ì•¼ í•  ëˆ</p>
                <div class="result-amount">
                    <p id="totalAmount" class="text-4xl sm:text-5xl font-black text-red-600 result-money counting px-2">
                        0 ì›
                    </p>
                </div>
                
                <div class="mt-4 pt-4 border-t border-red-200">
                    <p class="text-xs text-gray-500">
                        <i class="fas fa-info-circle mr-1"></i>
                        ë§¤ì¼ <span id="dailyInterest" class="font-semibold">0</span>ì›ì”© ë¶ˆì–´ë‚˜ê³  ìˆìŠµë‹ˆë‹¤
                    </p>
                </div>
            </section>

            <div class="notice-box">
              ì´ ê³„ì‚°ê¸°ëŠ” ì…ë ¥í•˜ì‹  ê°’ì„ ê¸°ì¤€ìœ¼ë¡œ í•œ <strong>ì°¸ê³ ìš© ì‹œë®¬ë ˆì´ì…˜</strong>ì…ë‹ˆë‹¤.<br />
              ì‹¤ì œ ì†Œì†¡Â·ì§‘í–‰ ê²°ê³¼ì™€ ë‹¤ë¥¼ ìˆ˜ ìˆìœ¼ë©°, ìµœì¢… íŒë‹¨ì€ ë²•ë¥  ì „ë¬¸ê°€ì™€ ìƒì˜í•´ ì£¼ì„¸ìš”.
            </div>
            
            <!-- ì•¡ì…˜ë¶€ (íƒ­) -->
            <section class="mt-6 bg-white rounded-2xl shadow-lg overflow-hidden">
                <div class="flex border-b border-gray-200">
                    <button class="tab-btn flex-1 py-4 text-sm font-semibold text-blue-600 border-b-2 border-blue-500" data-tab="kakao">
                        <i class="fas fa-comment mr-1"></i> ì¹´í†¡/ë¬¸ì
                    </button>
                    <button class="tab-btn flex-1 py-4 text-sm font-semibold text-gray-500 border-b-2 border-transparent hover:text-gray-700" data-tab="email">
                        <i class="fas fa-envelope mr-1"></i> ì´ë©”ì¼
                    </button>
                    <button class="tab-btn flex-1 py-4 text-sm font-semibold text-gray-500 border-b-2 border-transparent hover:text-gray-700" data-tab="certificate">
                        <i class="fas fa-file-pdf mr-1"></i> ë‚´ìš©ì¦ëª…
                    </button>
                </div>
                
                <div class="p-6">
                    <!-- ì¹´í†¡/ë¬¸ì íƒ­ -->
                    <div id="tab-kakao" class="tab-content active">
                        <textarea 
                            id="kakaoText"
                            class="w-full h-72 p-4 text-sm border-2 border-gray-200 rounded-xl resize-none focus:border-yellow-400 focus:ring-4 focus:ring-yellow-100 outline-none leading-relaxed"
                            readonly
                        ></textarea>
                        <button 
                            id="copyKakao"
                            class="w-full mt-4 h-14 bg-yellow-400 hover:bg-yellow-500 text-gray-900 font-bold rounded-xl transition-all flex items-center justify-center gap-2"
                        >
                            <i class="fas fa-copy"></i>
                            í…ìŠ¤íŠ¸ ì „ì²´ ë³µì‚¬í•˜ê¸°
                        </button>
                    </div>
                    
                    <!-- ì´ë©”ì¼ íƒ­ -->
                    <div id="tab-email" class="tab-content">
                        <div class="mb-4 p-3 bg-blue-50 rounded-lg">
                            <p class="text-sm font-semibold text-blue-800">
                                <i class="fas fa-envelope mr-1"></i>
                                ì œëª©: <span id="emailSubject"></span>
                            </p>
                        </div>
                        <textarea 
                            id="emailText"
                            class="w-full h-64 p-4 text-sm border-2 border-gray-200 rounded-xl resize-none focus:border-blue-400 focus:ring-4 focus:ring-blue-100 outline-none leading-relaxed"
                            readonly
                        ></textarea>
                        <button 
                            id="copyEmail"
                            class="w-full mt-4 h-14 bg-blue-500 hover:bg-blue-600 text-white font-bold rounded-xl transition-all flex items-center justify-center gap-2"
                        >
                            <i class="fas fa-copy"></i>
                            í…ìŠ¤íŠ¸ ì „ì²´ ë³µì‚¬í•˜ê¸°
                        </button>
                    </div>
                    
                    <!-- ë‚´ìš©ì¦ëª… íƒ­ -->
                    <div id="tab-certificate" class="tab-content">
                        <div id="certificatePreview" class="certificate-preview bg-white border-2 border-gray-300 p-8 text-sm leading-relaxed overflow-y-auto rounded-sm">
                        </div>
                        <button 
                            id="downloadPdf"
                            class="w-full mt-4 h-14 bg-red-600 hover:bg-red-700 text-white font-bold rounded-xl transition-all flex items-center justify-center gap-2"
                        >
                            <i class="fas fa-file-pdf"></i>
                            PDFë¡œ ì˜ˆì˜ê²Œ ì¶œë ¥í•˜ê¸°
                        </button>
                        <p class="mt-2 text-xs text-gray-500 leading-relaxed keep-all">
                            ë‚´ìš©ì„ ë§ì´ ìˆ˜ì •í•˜ê³  ì‹¶ë‹¤ë©´ ìœ„ í…ìŠ¤íŠ¸ë¥¼ ì›Œë“œ/í•œê¸€ì— ë¶™ì—¬ë„£ê³  í¸ì§‘ í›„ PDFë¡œ ì €ì¥í•˜ëŠ” ê±¸ ì¶”ì²œë“œë ¤ìš”.
                        </p>
                    </div>
                </div>
            </section>
            
            <!-- ========== ì…€í”„ ë…ì´‰ ì‹¤ì „ í‚¤íŠ¸ ì•ˆë‚´ ë°•ìŠ¤ ========== -->
            <section class="w-full max-w-xl mx-auto mt-6 mb-4 rounded-2xl bg-indigo-50 px-4 py-5 sm:px-6 sm:py-6 shadow-sm">
                <!-- ì œëª© -->
                <div class="mb-4">
                    <p class="text-sm sm:text-base text-gray-600 keep-all">ë³€í˜¸ì‚¬ ì—†ì´ë„ ë¯¸ìˆ˜ê¸ˆ ì •ë¦¬ë¥¼ ì¤€ë¹„í•˜ëŠ”</p>
                    <p class="text-base sm:text-lg font-bold text-gray-800 keep-all">
                        <span class="text-2xl mr-1">ğŸ§°</span>'ì…€í”„ ë…ì´‰ ì‹¤ì „ í‚¤íŠ¸' <span class="text-indigo-500 text-sm font-medium">(ì¤€ë¹„ ì¤‘)</span>
                    </p>
                </div>
                
                <!-- Bullet ë¦¬ìŠ¤íŠ¸ -->
                <ul class="text-sm sm:text-base text-gray-600 space-y-2 mb-4 pl-1">
                    <li class="flex items-start gap-2">
                        <i class="fas fa-check-circle text-indigo-500 mt-0.5 flex-shrink-0"></i>
                        <span class="keep-all">ìƒí™©ë³„ ë‚´ìš©ì¦ëª… ì˜ˆì‹œë¬¸ (í”„ë¦¬ëœì„œ / ì§€ì¸ / ê±°ë˜ì²˜ ë“±)</span>
                    </li>
                    <li class="flex items-start gap-2">
                        <i class="fas fa-check-circle text-indigo-500 mt-0.5 flex-shrink-0"></i>
                        <span class="keep-all">ìš°ì²´êµ­ ë‚´ìš©ì¦ëª… ë°œì†¡ ì²´í¬ë¦¬ìŠ¤íŠ¸</span>
                    </li>
                    <li class="flex items-start gap-2">
                        <i class="fas fa-check-circle text-indigo-500 mt-0.5 flex-shrink-0"></i>
                        <span class="keep-all">ì§€ê¸‰ëª…ë ¹Â·ì†Œì•¡ì†Œì†¡ ì¤€ë¹„ìš© ì—‘ì…€/ë…¸ì…˜ ì–‘ì‹</span>
                    </li>
                </ul>
                
                <!-- í‚¤íŠ¸ ì„¤ëª… ë¬¸ë‹¨ -->
                <p class="mt-3 text-sm text-gray-700 leading-relaxed keep-all">
                    í•œ ë²ˆë§Œ ì •ë¦¬í•´ë‘ë©´, ì•ìœ¼ë¡œ ìƒê¸¸ ë¯¸ìˆ˜ê¸ˆë„<br>
                    ê°™ì€ ì–‘ì‹Â·ì²´í¬ë¦¬ìŠ¤íŠ¸ë¡œ ë°”ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆì–´ìš”.<br><br>
                    ë²• ê²€ìƒ‰Â·ì–‘ì‹ ì°¾ëŠë¼ ëª‡ ì‹œê°„ì”© êµ¬ê¸€ë§í•˜ë˜ ì‹œê°„ì„<br>
                    í•œ ë²ˆì— ì¤„ì—¬ì£¼ëŠ” ê±¸ ëª©í‘œë¡œ ë§Œë“  í‚¤íŠ¸ì…ë‹ˆë‹¤.
                </p>
                
                <!-- ê°€ê²© ë° í˜œíƒ ì•ˆë‚´ -->
                <div class="bg-white/60 rounded-lg p-3 mb-4">
                    <p class="text-xs sm:text-sm text-gray-500 mb-1 keep-all">
                        ì˜ˆìƒ ê°€ê²©: <span class="font-semibold text-gray-700">19,000ì›</span> ë‚´ì™¸
                    </p>
                    <p class="text-xs sm:text-sm text-gray-500 keep-all">
                        í‚¤íŠ¸ê°€ ì™„ì„±ë˜ë©´ ê°€ì¥ ë¨¼ì € ì•Œë ¤ë“œë¦¬ê³ ,<br>
                        ì´ˆê¸° ì•Œë¦¼ ì‹ ì²­ì ë¶„ë“¤ê»˜ëŠ” <span class="font-semibold text-indigo-600">í• ì¸ ì¿ í°</span>ì„ ë“œë¦½ë‹ˆë‹¤.
                    </p>
                </div>
                
                <!-- ì•Œë¦¼ ì‹ ì²­ ë²„íŠ¼ -->
                <a 
                    href="https://forms.gle/LVU4ZkpqPU6aVzHdA" 
                    target="_blank" 
                    rel="noopener noreferrer"
                    class="w-full mt-4 h-12 rounded-xl bg-indigo-500 hover:bg-indigo-600 text-white font-semibold flex items-center justify-center gap-2 transition-all"
                >
                    ğŸ”” í‚¤íŠ¸ ì•Œë¦¼ ì‹ ì²­í•˜ê¸°
                </a>
                
                <!-- ë©´ì±… ì¡°í•­ -->
                    <p class="text-xs text-gray-500 mt-3 text-center keep-all">
                    â€» ì´ í‚¤íŠ¸ëŠ” ë²•ë¥  ìë¬¸ì´ë‚˜ ì†Œì†¡ ëŒ€ë¦¬ë¥¼ ì œê³µí•˜ì§€ ì•Šìœ¼ë©°,<br>
                    ì‹¤ì œ ë²•ì  ì¡°ì¹˜ ì „ì—ëŠ” ë²•ë¥  ì „ë¬¸ê°€ì™€ ìƒì˜í•´ ëŒ€ì‘ ì ˆì°¨ë¥¼ ê²°ì •í•´ ì£¼ì„¸ìš”.
                </p>
            </section>
            
            <!-- í‘¸í„° -->
            <footer class="mt-12 text-center">
                <div class="mb-8">
                    <button 
                        id="openDonationModal"
                        class="donation-btn inline-flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-yellow-400 via-orange-400 to-orange-500 text-white font-bold text-lg rounded-full shadow-lg hover:shadow-xl transition-all duration-300 cursor-pointer border-none"
                    >
                        <span class="text-2xl">ğŸ</span>
                        ìˆ˜ìˆ˜ë£Œ ëŒ€ì‹  ë°•ì¹´ìŠ¤ í•œ ë³‘ ì˜ê¸° (í´ë¦­)
                    </button>
                    <p class="mt-3 text-xs text-gray-400">
                        ì´ ì„œë¹„ìŠ¤ê°€ ë§ˆìŒì— ë“œì…¨ë‹¤ë©´ ê°œë°œìì—ê²Œ ì‘ì›ì„ ë³´ë‚´ì£¼ì„¸ìš”!
                    </p>
                </div>
                
                <p class="text-xs text-gray-400 mb-4">
                    <i class="fas fa-shield-alt mr-1"></i>
                    ëª¨ë“  ë°ì´í„°ëŠ” ìƒˆë¡œê³ ì¹¨ ì‹œ ì¦‰ì‹œ ì‚­ì œë©ë‹ˆë‹¤.
                </p>
                
                <div class="pt-6 border-t border-gray-200">
                    <p class="text-xs font-semibold text-gray-500 mb-3">
                        <i class="fas fa-gavel mr-1"></i>
                        [ë²•ì  ê³ ì§€ ë° ë©´ì±… ì¡°í•­]
                    </p>
                    <div class="text-xs text-gray-400 space-y-1 leading-relaxed">
                        <p>ë³¸ ì„œë¹„ìŠ¤ëŠ” ë²•ë¥  ì „ë¬¸ê°€ê°€ ì•„ë‹ˆë©°, ì œê³µë˜ëŠ” ê²°ê³¼ë¬¼ì€ ë‹¨ìˆœ ì°¸ê³ ìš© ì˜ˆì‹œì…ë‹ˆë‹¤.</p>
                        <p>ìƒì„±ëœ ë¬¸ì„œì˜ ë‚´ìš©ê³¼ ë°œì†¡ì— ë”°ë¥¸ ëª¨ë“  ë²•ì  ì±…ì„ì€ ì‚¬ìš©ì ë³¸ì¸ì—ê²Œ ìˆìŠµë‹ˆë‹¤.</p>
                        <p>ë³¸ ì„œë¹„ìŠ¤ëŠ” ì…ë ¥ëœ ê°œì¸ì •ë³´ë¥¼ ì„œë²„ì— ì €ì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</p>
                        <p>ì´ììœ¨ ê³„ì‚°ì€ ìƒë²• ë° ì†Œì†¡ì´‰ì§„ë²• ë“±ì„ ì°¸ê³ í•˜ì˜€ìœ¼ë‚˜, ì‹¤ì œ íŒê²°ê³¼ëŠ” ë‹¤ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                        <p class="text-gray-500">â€» ë³¸ ì„œë¹„ìŠ¤ëŠ” ì¼ë°˜ ì •ë³´ ì œê³µ ë° ê³„ì‚° ì˜ˆì‹œì¼ ë¿, ê°œë³„ ì‚¬ê±´ì— ëŒ€í•œ ë²•ë¥  ìë¬¸ì´ ì•„ë‹™ë‹ˆë‹¤. ì‹¤ì œ ëŒ€ì‘ì€ ë²•ë¥  ì „ë¬¸ê°€ì™€ ìƒì˜í•´ ì ˆì°¨ë¥¼ ê²°ì •í•´ ì£¼ì„¸ìš”.</p>
                    </div>
                </div>
            </footer>
        </div>
    </div>
    
    <!-- ==================== í›„ì› QR ëª¨ë‹¬ ==================== -->
    <div id="donationModal" class="modal-overlay">
        <div class="modal-content">
            <h3 class="text-xl font-bold text-gray-800 mb-2">ğŸ™ ê°œë°œì í›„ì›í•˜ê¸°</h3>
            <p class="text-sm text-gray-500 mb-6">ì¹´ë©”ë¼ë¡œ ì°ìœ¼ë©´ ë°”ë¡œ ì†¡ê¸ˆë©ë‹ˆë‹¤!</p>
            
            <div class="flex justify-center mb-6">
                <img 
                    src="./qr.png" 
                    alt="í›„ì› QRì½”ë“œ" 
                    class="w-48 h-48 rounded-lg shadow-md border border-gray-200"
                >
            </div>
            
            <button 
                id="copyDonationAccount"
                class="w-full py-3 bg-amber-100 hover:bg-amber-200 text-amber-800 font-semibold rounded-xl transition-all text-sm"
            >
                <i class="fas fa-copy mr-1"></i>
                ë˜ëŠ” ê³„ì¢Œ ë³µì‚¬: ì¹´ì¹´ì˜¤ë±…í¬ 3333-14-6086486
            </button>
            
            <button 
                id="closeDonationModal"
                class="w-full mt-3 py-3 bg-gray-100 hover:bg-gray-200 text-gray-600 font-semibold rounded-xl transition-all text-sm"
            >
                ë‹«ê¸°
            </button>
        </div>
    </div>

    <!-- ==================== JavaScript ==================== -->
    <script>
        // ========== ì „ì—­ ìƒíƒœ ==========
        // [ìˆ˜ì •2] ë°œì‹ ì¸ ì •ë³´ 3ê°œ í•„ë“œ ì¶”ê°€
        let state = {
            // ì±„ê¶Œ ì •ë³´
            principal: 0,
            startDate: null,
            interestRate: 6,
            // ì±„ë¬´ì ì •ë³´
            debtorName: '',
            debtorType: 'company',
            // ë°œì‹ ì¸ ì •ë³´ (ì‹ ê·œ)
            senderName: '',
            senderAddress: '',
            senderPhone: '',
            // ì…ê¸ˆ ê³„ì¢Œ ì •ë³´
            bankName: '',
            accountNumber: '',
            accountHolder: ''
        };
        
        let previousTotal = 0;

        // ========== DOM ìš”ì†Œ ==========
        const elements = {
            // í˜ì´ì§€
            inputPage: document.getElementById('inputPage'),
            resultPage: document.getElementById('resultPage'),
            // ì…ë ¥ í•„ë“œ - ì±„ê¶Œ
            principal: document.getElementById('principal'),
            startDate: document.getElementById('startDate'),
            customRateRadio: document.getElementById('customRateRadio'),
            customRateWrapper: document.getElementById('customRateWrapper'),
            customRate: document.getElementById('customRate'),
            rateWarning: document.getElementById('rateWarning'),
            // ì…ë ¥ í•„ë“œ - ì±„ë¬´ì
            debtorName: document.getElementById('debtorName'),
            debtorType: document.getElementById('debtorType'),
            // ì…ë ¥ í•„ë“œ - ë°œì‹ ì¸ (ì‹ ê·œ)
            senderName: document.getElementById('senderName'),
            senderAddress: document.getElementById('senderAddress'),
            senderPhone: document.getElementById('senderPhone'),
            // ì…ë ¥ í•„ë“œ - ê³„ì¢Œ
            bankNameSelect: document.getElementById('bankNameSelect'),
            bankNameCustom: document.getElementById('bankNameCustom'),
            accountNumber: document.getElementById('accountNumber'),
            accountHolder: document.getElementById('accountHolder'),
            accountAccordionToggle: document.getElementById('accountAccordionToggle'),
            accountFieldsWrapper: document.getElementById('accountFieldsWrapper'),
            accountChevron: document.getElementById('accountChevron'),
            // ë²„íŠ¼
            calculateBtn: document.getElementById('calculateBtn'),
            backBtn: document.getElementById('backBtn'),
            // ìœ íš¨ì„± ê²€ì‚¬
            validationError: document.getElementById('validationError'),
            errorMessage: document.getElementById('errorMessage'),
            // ê²°ê³¼ë¶€
            daysElapsed: document.getElementById('daysElapsed'),
            interestAmount: document.getElementById('interestAmount'),
            totalAmount: document.getElementById('totalAmount'),
            dailyInterest: document.getElementById('dailyInterest'),
            // íƒ­ ì½˜í…ì¸ 
            kakaoText: document.getElementById('kakaoText'),
            emailSubject: document.getElementById('emailSubject'),
            emailText: document.getElementById('emailText'),
            certificatePreview: document.getElementById('certificatePreview'),
            // ë³µì‚¬/ë‹¤ìš´ë¡œë“œ ë²„íŠ¼
            copyKakao: document.getElementById('copyKakao'),
            copyEmail: document.getElementById('copyEmail'),
            downloadPdf: document.getElementById('downloadPdf'),
            // ëª¨ë‹¬ ìš”ì†Œ
            donationModal: document.getElementById('donationModal'),
            openDonationModal: document.getElementById('openDonationModal'),
            closeDonationModal: document.getElementById('closeDonationModal'),
            copyDonationAccount: document.getElementById('copyDonationAccount')
        };

        // ========== ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ ==========
        function formatNumber(num) {
            return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',');
        }

        function parseNumber(str) {
            return parseInt(str.replace(/,/g, ''), 10) || 0;
        }

        function formatDate(date) {
            if (!date) return '';
            const d = new Date(date);
            return `${d.getFullYear()}ë…„ ${d.getMonth() + 1}ì›” ${d.getDate()}ì¼`;
        }

        function getTodayFormatted() {
            const today = new Date();
            return `${today.getFullYear()}ë…„ ${today.getMonth() + 1}ì›” ${today.getDate()}ì¼`;
        }

        function calculateDays(startDate) {
            if (!startDate) return 0;
            const start = new Date(startDate);
            const today = new Date();
            start.setHours(0, 0, 0, 0);
            today.setHours(0, 0, 0, 0);
            const diffTime = today - start;
            return Math.max(0, Math.floor(diffTime / (1000 * 60 * 60 * 24)));
        }

        function calculateInterest(principal, days, rate) {
            return Math.floor(principal * (rate / 100) * (days / 365));
        }
        
        function animateCount(element, start, end, duration = 800) {
            const startTime = performance.now();
            const diff = end - start;
            
            function update(currentTime) {
                const elapsed = currentTime - startTime;
                const progress = Math.min(elapsed / duration, 1);
                const easeProgress = 1 - Math.pow(1 - progress, 4);
                const current = Math.floor(start + diff * easeProgress);
                element.textContent = `${formatNumber(current)} ì›`;
                if (progress < 1) {
                    requestAnimationFrame(update);
                }
            }
            requestAnimationFrame(update);
        }
        
        // ì…ê¸ˆ ê³„ì¢Œ ì •ë³´ í…ìŠ¤íŠ¸ ìƒì„±
        function getAccountInfoText() {
            const { bankName, accountNumber, accountHolder } = state;
            if (bankName && accountNumber && accountHolder) {
                return `\n\nâ–¶ ì…ê¸ˆ ê³„ì¢Œ: ${bankName} ${accountNumber} (ì˜ˆê¸ˆì£¼: ${accountHolder})`;
            }
            return '';
        }
        
        // [ìˆ˜ì •4] ë°œì‹ ì¸ ì •ë³´ í…ìŠ¤íŠ¸ ìƒì„± (ì¹´í†¡/ì´ë©”ì¼ìš©)
        function getSenderInfoText() {
            const { senderName, senderPhone } = state;
            if (senderName) {
                if (senderPhone) {
                    return `\n\në°œì‹ ì¸: ${senderName} / ${senderPhone}`;
                }
                return `\n\në°œì‹ ì¸: ${senderName}`;
            }
            return '';
        }
        
        function getHonorific() {
            return state.debtorType === 'company' ? 'ê·€ì‚¬' : 'ê·€í•˜';
        }
        
        function getGreeting() {
            return state.debtorType === 'company' 
                ? 'ê·€ì‚¬(ê·€í•˜)ì˜ ë¬´ê¶í•œ ë°œì „ì„ ê¸°ì›í•©ë‹ˆë‹¤.'
                : 'ê·€í•˜ì˜ ê°€ì •ì— í‰ì•ˆì´ ê¹ƒë“¤ê¸°ë¥¼ ê¸°ì›í•©ë‹ˆë‹¤.';
        }

        // ========== í˜ì´ì§€ ì „í™˜ í•¨ìˆ˜ ==========
        function showResultPage() {
            elements.inputPage.classList.add('fade-out');
            elements.inputPage.classList.remove('fade-in');
            
            setTimeout(() => {
                elements.inputPage.classList.add('hidden');
                elements.resultPage.classList.remove('hidden');
                
                setTimeout(() => {
                    elements.resultPage.classList.remove('fade-out');
                    elements.resultPage.classList.add('fade-in');
                }, 50);
                
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }, 400);
        }
        
        function showInputPage() {
            elements.resultPage.classList.add('fade-out');
            elements.resultPage.classList.remove('fade-in');
            
            setTimeout(() => {
                elements.resultPage.classList.add('hidden');
                elements.inputPage.classList.remove('hidden');
                
                setTimeout(() => {
                    elements.inputPage.classList.remove('fade-out');
                    elements.inputPage.classList.add('fade-in');
                }, 50);
                
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }, 400);
        }

        // ========== ë°ì´í„° ìˆ˜ì§‘ ë° ìœ íš¨ì„± ê²€ì‚¬ ==========
        // [ìˆ˜ì •2] collectDataì— ë°œì‹ ì¸ ì •ë³´ ì¶”ê°€
        function collectData() {
            // ì±„ê¶Œ ì •ë³´
            state.principal = parseNumber(elements.principal.value);
            state.startDate = elements.startDate.value;
            // ì±„ë¬´ì ì •ë³´
            state.debtorName = elements.debtorName.value;
            // ë°œì‹ ì¸ ì •ë³´ (ì‹ ê·œ)
            state.senderName = elements.senderName.value.trim();
            state.senderAddress = elements.senderAddress.value.trim();
            state.senderPhone = elements.senderPhone.value.trim();
            // ê³„ì¢Œ ì •ë³´
            state.bankName = elements.bankNameSelect.value === '__custom__' 
                ? elements.bankNameCustom.value 
                : elements.bankNameSelect.value;
            state.accountNumber = elements.accountNumber.value;
            state.accountHolder = elements.accountHolder.value;
        }
        
        function validateData() {
            if (state.principal <= 0) {
                showError('ì›ê¸ˆì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return false;
            }
            if (!state.startDate) {
                showError('ë‚ ì§œë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.');
                return false;
            }
            hideError();
            return true;
        }
        
        function showError(message) {
            elements.errorMessage.textContent = message;
            elements.validationError.classList.remove('hidden');
        }
        
        function hideError() {
            elements.validationError.classList.add('hidden');
        }

        // ========== ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ==========
        
        // ì›ê¸ˆ ì…ë ¥ (ì½¤ë§ˆ ìë™ ì‚½ì…)
        elements.principal.addEventListener('input', (e) => {
            const value = e.target.value.replace(/[^\d]/g, '');
            e.target.value = value ? formatNumber(value) : '';
        });

        // ì´ììœ¨ ë¼ë””ì˜¤ ë²„íŠ¼
        document.querySelectorAll('input[name="interestRate"]').forEach(radio => {
            radio.addEventListener('change', (e) => {
                if (e.target.value === 'custom') {
                    elements.customRateWrapper.classList.remove('hidden');
                    state.interestRate = parseFloat(elements.customRate.value) || 0;
                } else {
                    elements.customRateWrapper.classList.add('hidden');
                    elements.rateWarning.classList.add('hidden');
                    state.interestRate = parseFloat(e.target.value);
                }
            });
        });

        // ì§ì ‘ ì…ë ¥ ì´ììœ¨ - 20% ì œí•œ
        elements.customRate.addEventListener('input', (e) => {
            let value = parseFloat(e.target.value) || 0;
            if (value > 20) {
                value = 20;
                e.target.value = 20;
                elements.rateWarning.classList.remove('hidden');
            } else {
                elements.rateWarning.classList.add('hidden');
            }
            state.interestRate = value;
        });
        
        // ì„¸ê·¸ë¨¼íŠ¸ ì»¨íŠ¸ë¡¤ ì´ë²¤íŠ¸
        document.querySelectorAll('.segment-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.segment-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                state.debtorType = btn.dataset.type;
                elements.debtorType.value = btn.dataset.type;
            });
        });
        
        // ì€í–‰ ì„ íƒ
        elements.bankNameSelect.addEventListener('change', (e) => {
            if (e.target.value === '__custom__') {
                elements.bankNameCustom.classList.remove('hidden');
                elements.bankNameCustom.focus();
            } else {
                elements.bankNameCustom.classList.add('hidden');
            }
            if (isAccountOpen) {
                elements.accountFieldsWrapper.style.maxHeight = `${elements.accountFieldsWrapper.scrollHeight}px`;
            }
        });
        
        // ê³„ì¢Œë²ˆí˜¸ ì…ë ¥ (ìˆ«ì/í•˜ì´í”ˆë§Œ)
        elements.accountNumber.addEventListener('input', (e) => {
            e.target.value = e.target.value.replace(/[^\d-]/g, '');
        });
        
        // ì „í™”ë²ˆí˜¸ ì…ë ¥ (ìˆ«ì/í•˜ì´í”ˆë§Œ)
        elements.senderPhone.addEventListener('input', (e) => {
            e.target.value = e.target.value.replace(/[^\d-]/g, '');
        });

        // ê³„ì¢Œ ì•„ì½”ë””ì–¸
        let isAccountOpen = false;
        function setAccountOpen(open) {
            isAccountOpen = open;
            const wrapper = elements.accountFieldsWrapper;
            const chevron = elements.accountChevron;
            const toggle = elements.accountAccordionToggle;
            if (open) {
                wrapper.style.maxHeight = `${wrapper.scrollHeight}px`;
                wrapper.classList.remove('opacity-0');
                wrapper.classList.add('opacity-100');
                chevron.classList.add('rotate-180');
                toggle.classList.add('border-blue-200', 'bg-blue-50');
                toggle.setAttribute('aria-expanded', 'true');
                wrapper.setAttribute('aria-hidden', 'false');
            } else {
                wrapper.style.maxHeight = '0px';
                wrapper.classList.remove('opacity-100');
                wrapper.classList.add('opacity-0');
                chevron.classList.remove('rotate-180');
                toggle.classList.remove('border-blue-200', 'bg-blue-50');
                toggle.setAttribute('aria-expanded', 'false');
                wrapper.setAttribute('aria-hidden', 'true');
            }
        }
        elements.accountAccordionToggle.addEventListener('click', () => {
            setAccountOpen(!isAccountOpen);
        });
        window.addEventListener('resize', () => {
            if (isAccountOpen) {
                elements.accountFieldsWrapper.style.maxHeight = `${elements.accountFieldsWrapper.scrollHeight}px`;
            }
        });

        // ê³„ì‚°í•˜ê¸° ë²„íŠ¼ í´ë¦­
        elements.calculateBtn.addEventListener('click', () => {
            collectData();
            
            if (!validateData()) {
                return;
            }
            
            // ì´ììœ¨ ìˆ˜ì§‘
            const selectedRate = document.querySelector('input[name="interestRate"]:checked');
            if (selectedRate.value === 'custom') {
                state.interestRate = parseFloat(elements.customRate.value) || 0;
            } else {
                state.interestRate = parseFloat(selectedRate.value);
            }
            
            // ê²°ê³¼ ê³„ì‚° ë° ì—…ë°ì´íŠ¸
            updateResult();
            
            // ê²°ê³¼ í˜ì´ì§€ë¡œ ì „í™˜
            showResultPage();
        });
        
        // ë’¤ë¡œê°€ê¸° ë²„íŠ¼
        elements.backBtn.addEventListener('click', () => {
            showInputPage();
        });

        // íƒ­ ì „í™˜
        document.querySelectorAll('.tab-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const tabId = btn.dataset.tab;
                document.querySelectorAll('.tab-btn').forEach(b => {
                    b.classList.remove('text-blue-600', 'border-blue-500');
                    b.classList.add('text-gray-500', 'border-transparent');
                });
                btn.classList.remove('text-gray-500', 'border-transparent');
                btn.classList.add('text-blue-600', 'border-blue-500');
                document.querySelectorAll('.tab-content').forEach(content => {
                    content.classList.remove('active');
                });
                document.getElementById(`tab-${tabId}`).classList.add('active');
            });
        });

        // ë³µì‚¬ ë²„íŠ¼ë“¤
        elements.copyKakao.addEventListener('click', () => {
            copyToClipboard(elements.kakaoText.value, elements.copyKakao);
        });

        elements.copyEmail.addEventListener('click', () => {
            const fullText = `ì œëª©: ${elements.emailSubject.textContent}\n\n${elements.emailText.value}`;
            copyToClipboard(fullText, elements.copyEmail);
        });

        function copyToClipboard(text, button) {
            navigator.clipboard.writeText(text).then(() => {
                const originalHTML = button.innerHTML;
                button.innerHTML = '<i class="fas fa-check"></i> ë³µì‚¬ ì™„ë£Œ!';
                button.classList.add('copy-success');
                setTimeout(() => {
                    button.innerHTML = originalHTML;
                    button.classList.remove('copy-success');
                }, 2000);
            });
        }

        // PDF ë‹¤ìš´ë¡œë“œ (ë””ë²„ê·¸: ë¯¸ë¦¬ë³´ê¸° + html2canvas â†’ jsPDF ì§ì ‘ ì €ì¥)
        elements.downloadPdf.addEventListener('click', () => {
            const source = elements.certificatePreview;
            const debtorName = state.debtorName || 'ì±„ë¬´ì';

            // í´ë¡  ìƒì„±
            const clone = source.cloneNode(true);
            // ì˜¤í”„ìŠ¤í¬ë¦° ë˜í¼
            const wrapper = document.createElement('div');
            wrapper.style.position = 'absolute';
            wrapper.style.left = '-9999px';
            wrapper.style.top = '0';
            wrapper.style.background = 'white';
            wrapper.style.padding = '0';
            wrapper.style.margin = '0';
            wrapper.style.width = '794px'; // A4 @96dpi
            wrapper.style.boxSizing = 'border-box';

            // í´ë¡  ìŠ¤íƒ€ì¼ ì¡°ì • (ìŠ¤í¬ë¡¤/íŠ¸ëœìŠ¤í¼/ì‰ë„ìš° ì œê±°)
            clone.style.maxHeight = 'none';
            clone.style.overflow = 'visible';
            clone.style.transform = 'none';
            clone.style.boxShadow = 'none';
            clone.style.width = '100%';
            clone.style.position = 'relative';
            clone.style.left = '0';
            clone.style.top = '0';

            wrapper.appendChild(clone);
            document.body.appendChild(wrapper);

            // ë””ë²„ê·¸ ë¡œê·¸: í¬ê¸°/ë‚´ìš© í™•ì¸
            console.log('PDF wrapper element:', wrapper);
            console.log('wrapper offsetWidth/offsetHeight:', wrapper.offsetWidth, wrapper.offsetHeight);
            console.log('wrapper scrollWidth/scrollHeight:', wrapper.scrollWidth, wrapper.scrollHeight);
            console.log('wrapper innerHTML snippet:', wrapper.innerHTML.slice(0, 200));

            // html2canvasë¡œ ìº¡ì²˜ í›„: ìš°í•˜ë‹¨ ë¯¸ë¦¬ë³´ê¸° + jsPDFì— ì§ì ‘ addImage ì €ì¥
            // html2canvasë¡œ ìº¡ì²˜ í›„: ìš°í•˜ë‹¨ ë¯¸ë¦¬ë³´ê¸° + jsPDFì— ì§ì ‘ addImage ì €ì¥
            const { jsPDF } = window.jspdf || {};
            if (!jsPDF) {
                console.error('jsPDF not loaded');
                document.body.removeChild(wrapper);
                return;
            }

            html2canvas(wrapper, {
                scale: 2,
                useCORS: true,
                windowWidth: wrapper.scrollWidth,
                windowHeight: wrapper.scrollHeight
            }).then((canvas) => {
                // ë¯¸ë¦¬ë³´ê¸°: ìš°í•˜ë‹¨ì— ì‘ì€ ì¸ë„¤ì¼ í‘œì‹œ
                const preview = document.createElement('div');
                preview.style.position = 'fixed';
                preview.style.right = '10px';
                preview.style.bottom = '10px';
                preview.style.zIndex = '9999';
                preview.style.padding = '6px';
                preview.style.background = 'rgba(0,0,0,0.6)';
                preview.style.borderRadius = '8px';
                preview.style.boxShadow = '0 4px 12px rgba(0,0,0,0.25)';
                const img = document.createElement('img');
                img.src = canvas.toDataURL('image/png');
                img.style.maxWidth = '200px';
                img.style.maxHeight = '200px';
                img.style.display = 'block';
                preview.appendChild(img);
                document.body.appendChild(preview);

                // jsPDFë¡œ ì§ì ‘ ì €ì¥ (í˜ì´ì§€ 1ì¥ì— ê½‰ ì°¨ê²Œ)
                const pdf = new jsPDF('p', 'mm', 'a4');
                const imgData = canvas.toDataURL('image/png');
                const pdfWidth = pdf.internal.pageSize.getWidth();
                const pdfHeight = (canvas.height * pdfWidth) / canvas.width;
                pdf.addImage(imgData, 'PNG', 0, 0, pdfWidth, pdfHeight);
                pdf.save(`ë‚´ìš©ì¦ëª…_${debtorName}_${new Date().toISOString().slice(0,10)}.pdf`);

                document.body.removeChild(wrapper);
                // ë¯¸ë¦¬ë³´ê¸°ëŠ” 5ì´ˆ ë’¤ ì œê±°
                setTimeout(() => {
                    if (preview && preview.parentNode) preview.parentNode.removeChild(preview);
                }, 5000);
            }).catch((err) => {
                console.error('html2canvas capture failed:', err);
                document.body.removeChild(wrapper);
            });
        });
        
        // ëª¨ë‹¬ ì´ë²¤íŠ¸
        elements.openDonationModal.addEventListener('click', () => {
            elements.donationModal.classList.add('active');
        });
        
        elements.closeDonationModal.addEventListener('click', () => {
            elements.donationModal.classList.remove('active');
        });
        
        elements.donationModal.addEventListener('click', (e) => {
            if (e.target === elements.donationModal) {
                elements.donationModal.classList.remove('active');
            }
        });
        
        // í›„ì› ê³„ì¢Œ ë³µì‚¬
        elements.copyDonationAccount.addEventListener('click', () => {
            copyToClipboard('3333-14-6086486', elements.copyDonationAccount);
            elements.copyDonationAccount.innerHTML = '<i class="fas fa-check"></i> ë³µì‚¬ ì™„ë£Œ!';
            setTimeout(() => {
                elements.copyDonationAccount.innerHTML = '<i class="fas fa-copy mr-1"></i>ë˜ëŠ” ê³„ì¢Œ ë³µì‚¬: ì¹´ì¹´ì˜¤ë±…í¬ 3333-14-6086486';
            }, 2000);
        });

        // ========== ê²°ê³¼ ì—…ë°ì´íŠ¸ ==========
        function updateResult() {
            const { principal, startDate, interestRate, debtorName } = state;
            
            const days = calculateDays(startDate);
            const interest = calculateInterest(principal, days, interestRate);
            const total = principal + interest;
            const dailyInterest = Math.floor(principal * (interestRate / 100) / 365);
            
            elements.daysElapsed.textContent = formatNumber(days);
            elements.interestAmount.textContent = formatNumber(interest);
            elements.dailyInterest.textContent = formatNumber(dailyInterest);
            
            // ì¹´ìš´íŒ… ì• ë‹ˆë©”ì´ì…˜
            animateCount(elements.totalAmount, 0, total);
            previousTotal = total;
            
            updateTemplates({
                name: debtorName || 'ê³ ê°',
                date: formatDate(startDate),
                days: formatNumber(days),
                amount: formatNumber(principal),
                rate: interestRate,
                interest: formatNumber(interest),
                total: formatNumber(total)
            });
        }

        function updateTemplates(data) {
            const accountInfo = getAccountInfoText();
            const senderInfo = getSenderInfoText(); // [ìˆ˜ì •4] ë°œì‹ ì¸ ì •ë³´
            const honorific = getHonorific();
            const greeting = getGreeting();
            
            // ========== ì¹´í†¡/ë¬¸ì í…œí”Œë¦¿ ==========
            // [ìˆ˜ì •4] ë°œì‹ ì¸ ì •ë³´ ì¶”ê°€
            elements.kakaoText.value = `[ì…ê¸ˆ ìš”ì²­]

${data.name}ë‹˜, ì—°ë½ì´ ì—†ìœ¼ì…”ì„œ ë‹¤ì‹œ ë³´ëƒ…ë‹ˆë‹¤.

${data.date} ì§€ê¸‰ì¼ë¡œë¶€í„° ë²Œì¨ ${data.days}ì¼ì´ ì§€ë‚¬ë„¤ìš”. ğŸ˜…


ì›ê¸ˆ ${data.amount}ì›ì— ë²•ì  ì´ì(${data.rate}%)ê¹Œì§€ ë”í•˜ë©´

ì§€ê¸ˆ ì…ê¸ˆí•˜ì…”ì•¼ í•  ê¸ˆì•¡ì€ ì´ [${data.total}ì›]ì…ë‹ˆë‹¤.


ë” ëŠ¦ì–´ì§€ë©´ ì„œë¡œ ì–¼êµ´ ë¶‰íˆê²Œ ë ê¹Œ ê±±ì •ì…ë‹ˆë‹¤.

ì˜¤ëŠ˜ ì¤‘ìœ¼ë¡œ ì…ê¸ˆ ë¶€íƒë“œë¦½ë‹ˆë‹¤. ğŸ™${accountInfo}${senderInfo}`;

            // ========== ì´ë©”ì¼ í…œí”Œë¦¿ ==========
            // [ìˆ˜ì •4] ë°œì‹ ì¸ ì •ë³´ ì¶”ê°€
            elements.emailSubject.textContent = `[ë…ì´‰] ${data.name} ë¯¸ì§€ê¸‰ ëŒ€ê¸ˆ(${data.total}ì›) ì…ê¸ˆ ìš”ì²­`;
            elements.emailText.value = `ìˆ˜ì‹ : ${data.name}

1. ${greeting}

2. ${data.date} ì§€ê¸‰ ê¸°ì¼ì´ ê²½ê³¼í•œ ë¯¸ìˆ˜ê¸ˆì— ëŒ€í•´ í†µì§€í•©ë‹ˆë‹¤.

í˜„ì¬ ìƒë²•ìƒ ì§€ì—°ì´ì(ì—° ${data.rate}%)ê°€ ë§¤ì¼ ê°€ì‚°ë˜ê³  ìˆìŠµë‹ˆë‹¤.

- ì›ê¸ˆ: ${data.amount}ì›
- ê²½ê³¼ì´ì: ${data.interest}ì› (${data.days}ì¼ ëˆ„ì )
- ì´ ì²­êµ¬ì•¡: ${data.total}ì›

ë²•ì  ì ˆì°¨ë¡œ ë„˜ì–´ê°€ê¸° ì „ì—, ${data.amount}ì›ì´ë¼ë„ ìš°ì„  ì…ê¸ˆí•´ì£¼ì‹œë©´
ì´ì ë¶€ë¶„ì€ í˜‘ì˜í•´ ë³¼ ì˜í–¥ì´ ìˆìŠµë‹ˆë‹¤.

íšŒì‹  ë°”ëë‹ˆë‹¤.${accountInfo}${senderInfo}`;

            // ========== ì…ê¸ˆ ê³„ì¢Œ HTML ==========
            const accountInfoHtml = state.bankName && state.accountNumber && state.accountHolder
                ? `<p style="margin: 5px 0 0 0; font-weight: bold;">${state.bankName} ${state.accountNumber}</p>
                   <p style="margin: 5px 0 0 0;">ì˜ˆê¸ˆì£¼: ${state.accountHolder}</p>`
                : `<p style="margin: 5px 0 0 0;">(ì€í–‰ëª… / ê³„ì¢Œë²ˆí˜¸ / ì˜ˆê¸ˆì£¼ ê¸°ì¬)</p>`;

            // ========== [ìˆ˜ì •3] ë°œì‹ ì¸ ì •ë³´ HTML (ë‚´ìš©ì¦ëª…ìš©) ==========
            // ë°œì‹ ì¸ ì´ë¦„/ì£¼ì†Œê°€ ìˆìœ¼ë©´ í‘œì‹œ, ì—†ìœ¼ë©´ ì•ˆë‚´ ë¬¸êµ¬
            let senderInfoHtml = '';
            if (state.senderName || state.senderAddress) {
                // ë°œì‹ ì¸ ì´ë¦„
                const nameHtml = state.senderName 
                    ? `<span style="font-weight: bold;">${state.senderName}</span>` 
                    : '(ì„±ëª… ê¸°ì¬)';
                
                // ë°œì‹ ì¸ ì£¼ì†Œ
                const addressHtml = state.senderAddress 
                    ? `<br>${state.senderAddress}` 
                    : '<br>(ì£¼ì†Œ ê¸°ì¬)';
                
                // ì—°ë½ì²˜ (ìˆì„ ë•Œë§Œ)
                const phoneHtml = state.senderPhone 
                    ? `<br>ì—°ë½ì²˜: ${state.senderPhone}` 
                    : '';
                
                senderInfoHtml = `${nameHtml}${addressHtml}${phoneHtml}`;
            } else {
                // [ìˆ˜ì •5] ë‘˜ ë‹¤ ë¹„ì–´ìˆìœ¼ë©´ ì•ˆë‚´ ë¬¸êµ¬
                senderInfoHtml = '(ë°œì‹ ì¸ ì„±ëª…/ì£¼ì†Œë¥¼ ê¸°ì¬í•´ ì£¼ì„¸ìš”)';
            }
            
            // ë‚´ìš©ì¦ëª… í•˜ë‹¨ ë°œì‹ ì¸ ì˜ì—­ìš©
            const senderSignatureHtml = state.senderName 
                ? `ë°œì‹ ì¸: ${state.senderName} (ì¸)` 
                : 'ë°œì‹ ì¸: ___________________ (ì¸)';
            
            const senderPhoneSignatureHtml = state.senderPhone 
                ? `ì—°ë½ì²˜: ${state.senderPhone}` 
                : 'ì—°ë½ì²˜: ___________________';

            // ========== ë‚´ìš©ì¦ëª… í…œí”Œë¦¿ ==========
            elements.certificatePreview.innerHTML = `
                <div style="font-family: 'Pretendard', sans-serif; line-height: 1.8;">
                    <h1 style="text-align: center; font-size: 24px; font-weight: bold; text-decoration: underline; margin-bottom: 30px;">
                        ë‚´ ìš© ì¦ ëª…
                    </h1>
                    
                    <table style="width: 100%; border-collapse: collapse; margin-bottom: 30px; font-size: 14px;">
                        <tr>
                            <td style="border: 1px solid #333; padding: 10px; width: 80px; font-weight: bold; background: #f5f5f5;">ë°œ ì‹  ì¸</td>
                            <td style="border: 1px solid #333; padding: 10px;">${senderInfoHtml}</td>
                        </tr>
                        <tr>
                            <td style="border: 1px solid #333; padding: 10px; font-weight: bold; background: #f5f5f5;">ìˆ˜ ì‹  ì¸</td>
                            <td style="border: 1px solid #333; padding: 10px;">${data.name}</td>
                        </tr>
                    </table>
                    
                    <h2 style="font-size: 16px; font-weight: bold; margin-bottom: 15px; border-bottom: 2px solid #333; padding-bottom: 5px;">
                        ì œ ëª©: ë¯¸ìˆ˜ê¸ˆ ì§€ê¸‰ ì²­êµ¬ì„œ
                    </h2>
                    
                    <div style="font-size: 14px; text-align: justify;">
                        <p style="margin-bottom: 15px;">
                            1. ${greeting}
                        </p>
                        
                        <p style="margin-bottom: 15px;">
                            2. ë³¸ì¸ì€ ${honorific}ì— ëŒ€í•˜ì—¬ ì•„ë˜ì™€ ê°™ì€ ì±„ê¶Œì„ ë³´ìœ í•˜ê³  ìˆìœ¼ë‚˜, 
                            ${data.date} ë³€ì œê¸°ê°€ ë„ë˜í•˜ì˜€ìŒì—ë„ ë¶ˆêµ¬í•˜ê³  í˜„ì¬ê¹Œì§€ ë³€ì œë¥¼ ì´í–‰í•˜ì§€ ì•Šê³  ê³„ì‹­ë‹ˆë‹¤.
                        </p>
                        
                        <table style="width: 100%; border-collapse: collapse; margin: 20px 0; font-size: 14px;">
                            <tr>
                                <td style="border: 1px solid #333; padding: 10px; width: 120px; font-weight: bold; background: #f5f5f5;">ì±„ê¶Œ ì›ê¸ˆ</td>
                                <td style="border: 1px solid #333; padding: 10px; text-align: right; font-weight: bold;">${data.amount}ì›</td>
                            </tr>
                            <tr>
                                <td style="border: 1px solid #333; padding: 10px; font-weight: bold; background: #f5f5f5;">ì§€ì—°ì´ì</td>
                                <td style="border: 1px solid #333; padding: 10px; text-align: right;">${data.interest}ì› (ì—° ${data.rate}%, ${data.days}ì¼)</td>
                            </tr>
                            <tr>
                                <td style="border: 1px solid #333; padding: 10px; font-weight: bold; background: #fee2e2;">ì²­êµ¬ ì´ì•¡</td>
                                <td style="border: 1px solid #333; padding: 10px; text-align: right; font-weight: bold; color: #dc2626; font-size: 16px;">${data.total}ì›</td>
                            </tr>
                        </table>
                        
                        <p style="margin-bottom: 15px;">
                            3. ì´ì— ìƒë²• ì œ54ì¡°ì— ì˜ê±°í•˜ì—¬ ì—° ${data.rate}%ì˜ ë²•ì •ì´ìë¥¼ ê°€ì‚°í•˜ì—¬ ì²­êµ¬í•˜ì˜¤ë‹ˆ,<br>
                            ë³¸ ë‚´ìš©ì¦ëª… ìˆ˜ë ¹ì¼ë¡œë¶€í„° <strong>7ì¼ ì´ë‚´</strong>ì— ìœ„ ê¸ˆì› ì „ì•¡ì„ ì•„ë˜ ê³„ì¢Œë¡œ ì…ê¸ˆí•˜ì—¬ ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.
                        </p>
                        
                        <div style="background: #f5f5f5; padding: 15px; border-radius: 5px; margin: 20px 0;">
                            <p style="margin: 0; font-weight: bold;">â–¶ ì…ê¸ˆ ê³„ì¢Œ</p>
                            ${accountInfoHtml}
                        </div>
                        
                        <p style="margin-bottom: 15px; color: #dc2626; font-weight: bold;">
                            4. ë§Œì¼ ìœ„ ê¸°í•œ ë‚´ì— ì´í–‰í•˜ì§€ ì•Šì„ ê²½ìš°,<br>
                            ë¯¼ì‚¬ì†Œì†¡ ì œê¸° ë° ì¬ì‚°ì— ëŒ€í•œ ê°€ì••ë¥˜/ê°•ì œì§‘í–‰ ë“± ë²•ì  ì ˆì°¨ë¥¼ ì§„í–‰í•  ê²ƒì´ë©°,<br>
                            ì´ë¡œ ì¸í•´ ë°œìƒí•˜ëŠ” ì†Œì†¡ë¹„ìš© ì¼ì²´ëŠ” ${honorific}ê°€ ë¶€ë‹´í•˜ê²Œ ë¨ì„ ì•Œë ¤ë“œë¦½ë‹ˆë‹¤.
                        </p>
                        
                        <p style="margin-bottom: 30px;">
                            5. ë³¸ ì„œë©´ì€ ì¶”í›„ ë²•ì  ì ˆì°¨ ì§„í–‰ ì‹œ ì¦ê±°ìë£Œë¡œ í™œìš©ë  ì˜ˆì •ì…ë‹ˆë‹¤.<br>
                            ì›ë§Œí•œ í•´ê²°ì„ ìœ„í•´ ì¡°ì†í•œ ì—°ë½ ë°”ëë‹ˆë‹¤.
                        </p>
                    </div>
                    
                    <div style="text-align: right; margin-top: 50px; font-size: 14px;">
                        <p style="margin-bottom: 30px;">${getTodayFormatted()}</p>
                        <p style="margin-bottom: 5px;">${senderSignatureHtml}</p>
                        <p>${senderPhoneSignatureHtml}</p>
                    </div>
                </div>
            `;
        }
    </script>
</body>
</html>
